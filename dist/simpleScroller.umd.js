!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).SimpleScroller=t()}(this,function(){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.requiredSetupOptions=["query"],this.intersectionObserverOptions=["root","rootMargin","threshold"],this.options={}}var t,n,i;return t=e,(n=[{key:"onEnterCb",value:function(){}},{key:"onExitCb",value:function(){}},{key:"setup",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.requiredSetupOptions.forEach(function(e){if(null==n[e])throw Error("".concat(e," option is required"))}),this.query=n.query,this.entries=document.querySelectorAll(this.query),this.intersectionObserverOptions.forEach(function(e){n[e]&&(t.options[e]=n[e])}),this}},{key:"onEnter",value:function(e){return this.onEnterCb=e,this}},{key:"onExit",value:function(e){return this.onExitCb=e,this}},{key:"listen",value:function(){var n=this,i=!1,o=Number.MIN_VALUE;return this.io=new IntersectionObserver(function(e){var t={direction:window.pageYOffset<o?"up":"down"};o=window.pageYOffset,e.forEach(function(e){e.isIntersecting?n.onEnterCb(e.target,t):i&&n.onExitCb(e.target,t)}),i=!0},this.options),this.entries.forEach(function(e){n.io.observe(e)}),this}},{key:"destroy",value:function(){var t=this;return this.entries.forEach(function(e){t.io.unobserve(e)}),this}}])&&o(t.prototype,n),i&&o(t,i),e}()});
